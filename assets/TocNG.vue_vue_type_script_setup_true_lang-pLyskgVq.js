import{d as m,a as g,b as T,f as a,S as f,o as i,w as _,j as k,F as c,i as y,n as p,aj as L,e as d,ad as S,t as $,z as M,k as D}from"./modules/vue-DcGPefT6.js";import{a as N,_ as P}from"./index-BNjHXp7a.js";import{u as C}from"./slidev/context-DDVT8oB6.js";const H=["href","innerHTML"],G=["href"],I=m({__name:"Link",props:{to:{},title:{}},setup(v){const{isPrintMode:e}=N();return(l,r)=>{const u=g("RouterLink");return!f(e)&&l.title?(i(),T(u,{key:0,to:String(l.to),onClick:r[0]||(r[0]=t=>t.target.blur()),innerHTML:l.title},null,8,["to","innerHTML"])):!f(e)&&!l.title?(i(),T(u,{key:1,to:String(l.to),onClick:r[1]||(r[1]=t=>t.target.blur())},{default:_(()=>[k(l.$slots,"default")]),_:3},8,["to"])):f(e)&&l.title?(i(),a("a",{key:2,href:`#${l.to}`,innerHTML:l.title},null,8,H)):(i(),a("a",{key:3,href:`#${l.to}`},[k(l.$slots,"default")],8,G))}}}),z=m({__name:"TocListNG",props:{level:{default:1},list:{},mode:{default:"ul"},dots:{default:"●○◌◡."}},setup(v){return C(),(e,l)=>{const r=I,u=g("TocListNG",!0);return i(),a(c,null,[e.mode==="ul"&&e.list&&e.list.length>0?(i(),a("ul",{key:0,class:p(["slidev-toc-list",`slidev-toc-list-level-${e.level}`])},[(i(!0),a(c,null,L(e.list,t=>(i(),a("li",{key:t.path,class:p(["slidev-toc-item",{"slidev-toc-item-active":t.active},{"slidev-toc-item-parent-active":t.activeParent}])},[d(r,{class:p({active:t.active}),to:t.path,innerHTML:t.title},null,8,["class","to","innerHTML"]),d(u,{level:e.level+1,list:t.children},null,8,["level","list"])],2))),128))],2)):y("v-if",!0),e.mode==="span"&&e.list&&e.list.length>0?(i(!0),a(c,{key:1},L(e.list,t=>(i(),a(c,{key:t.path},[d(r,{class:p(["slidev-toc-dot",t.active?"slidev-toc-dot-active":"",`slidev-toc-dot-level-${e.level}`]),to:t.path},{default:_(()=>[S($(e.dots[Math.min(e.level,e.dots.length)-1]),1)]),_:2},1032,["class","to"]),d(u,{level:e.level+1,list:t.children,mode:e.mode,dots:e.dots},null,8,["level","list","mode","dots"])],64))),128)):y("v-if",!0)],64)}}}),A=P(z,[["__scopeId","data-v-781be1b8"]]),w=m({__name:"TocNG",props:{columns:{default:1},maxDepth:{default:1/0},minDepth:{default:1},mode:{default:"all"}},setup(v){C();const{tocTree:e}=N(),l=v;function r(n,o=1){if(o>Number(l.maxDepth))return[];if(o<Number(l.minDepth)){const s=n.find(h=>h.active||h.activeParent);return s?r(s.children,o+1):[]}return n.map(s=>({...s,children:r(s.children,o+1)}))}function u(n){return n.filter(o=>o.active||o.activeParent||o.hasActiveParent).map(o=>({...o,children:u(o.children)}))}function t(n){const o=n.some(s=>s.active||s.activeParent||s.hasActiveParent);return n.filter(()=>o).map(s=>({...s,children:t(s.children)}))}const b=M(()=>{let n=r(e.value);return l.mode==="onlyCurrentTree"?n=u(n):l.mode==="onlySiblings"&&(n=t(n)),n});return(n,o)=>{const s=A;return i(),a("div",{class:"slidev-toc",style:D(`column-count:${n.columns}`)},[d(s,{level:1,list:b.value,mode:n.mode==="allDots"?"span":"ul"},null,8,["list","mode"])],4)}}});export{w as _};
